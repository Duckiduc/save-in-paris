import {
  Card,
  Typography,
  Row,
  Col,
  Divider,
  List,
  Tag,
  Alert,
  Statistic,
} from "antd";
import { WarningOutlined, CheckCircleOutlined } from "@ant-design/icons";

const { Title, Paragraph, Text } = Typography;

const GuideInfo = ({ section = "overview" }) => {
  // Guide data extracted from the markdown file
  const guideData = {
    overview: {
      budgetRule: {
        essential: 50, // 50% maximum pour d√©penses essentielles
        personal: 30, // 30% maximum pour loisirs
        savings: 20, // 20% minimum pour √©pargne
      },
      averageCosts: {
        studioIntra: { min: 600, max: 1400 },
        t2Paris: { min: 1280, max: 1628 },
        charges: { min: 40, max: 120 },
        insurance: { min: 12, max: 25 },
      },
    },
    housing: {
      affordableArrondissements: [
        {
          district: "10e arrondissement",
          price: "d√®s 390‚Ç¨",
          highlight: "studios abordables",
        },
        {
          district: "19e arrondissement",
          price: "excellent rapport qualit√©/prix",
          highlight: "r√©sidentiel",
        },
        {
          district: "20e arrondissement",
          price: "quartiers en d√©veloppement",
          highlight: "potentiel",
        },
        {
          district: "12e arrondissement",
          price: "r√©sidentiel et accessible",
          highlight: "calme",
        },
      ],
      suburbs: [
        {
          name: "Montreuil",
          savings: "-40%",
          description: "par rapport √† Paris intra-muros",
        },
        {
          name: "Saint-Denis",
          savings: "tr√®s abordable",
          description: "logements √©conomiques",
        },
        {
          name: "Pantin",
          savings: "cr√©atif",
          description: "quartiers en expansion",
        },
        {
          name: "Aubervilliers",
          savings: "excellente connexion",
          description: "transport optimis√©",
        },
      ],
    },
    transport: {
      navigoAll: 88.8,
      navigo13: 82.8,
      employerRefund: 50, // percentage
      alternatives: [
        {
          option: "V√©lo/trottinette",
          cost: "30-50‚Ç¨/mois",
          benefit: "amortissement rapide",
        },
        { option: "Marche √† pied", cost: "gratuit", benefit: "zones denses" },
      ],
    },
    food: {
      budgets: {
        single: { normal: 350, optimized: 275 },
        couple: { normal: 600, optimized: 480 },
        family4: { normal: 1000, optimized: 750 },
      },
      strategies: [
        "March√©s de fin de journ√©e (-30%)",
        "Magasins hard-discount (Lidl, Aldi)",
        "Applications anti-gaspillage (Too Good To Go)",
        "Produits de saison (-30%)",
        "Pr√©paration maison (-40% vs restaurants)",
      ],
    },
    salaries: {
      cadres: 6044,
      intermediaires: 3210,
      employes: 2042,
      moyenne: 4313,
    },
    savings: {
      products: [
        { name: "Livret A", rate: "2,4%", type: "√©pargne de pr√©caution" },
        { name: "LDDS", rate: "2,4%", type: "compl√©ment Livret A" },
        { name: "LEP", rate: "3,5%", type: "revenus modestes" },
        { name: "Assurance-vie", rate: "variable", type: "moyen/long terme" },
        { name: "PEA", rate: "variable", type: "actions europ√©ennes" },
      ],
      targets: {
        beginner: { min: 5, max: 10 },
        experienced: { min: 15, max: 20 },
        investor: { min: 25, max: 35 },
      },
    },
    warnings: [
      "Sous-estimer les charges (copropri√©t√©, chauffage, internet)",
      "N√©gliger l'assurance habitation obligatoire",
      "Sur√©valuer sa capacit√© sans pr√©voir les impr√©vus",
      "Oublier les frais annexes (d√©m√©nagement, caution)",
      "Achats impulsifs (56% des Fran√ßais vivent au-dessus de leurs moyens)",
      "Absence de suivi des d√©penses r√©elles",
    ],
  };

  const renderOverview = () => (
    <Row gutter={[16, 16]}>
      <Col xs={24} md={12}>
        <Card title="üìä R√®gle Budg√©taire 50/30/20" size="small">
          <Row gutter={16}>
            <Col span={8}>
              <Statistic
                title="Essentiel"
                value={guideData.overview.budgetRule.essential}
                suffix="% max"
                valueStyle={{ color: "#ff6b6b", fontSize: "18px" }}
              />
              <Text type="secondary" style={{ fontSize: "11px" }}>
                logement, transport, alimentation
              </Text>
            </Col>
            <Col span={8}>
              <Statistic
                title="Loisirs"
                value={guideData.overview.budgetRule.personal}
                suffix="% max"
                valueStyle={{ color: "#4ecdc4", fontSize: "18px" }}
              />
              <Text type="secondary" style={{ fontSize: "11px" }}>
                sorties, shopping, hobbies
              </Text>
            </Col>
            <Col span={8}>
              <Statistic
                title="√âpargne"
                value={guideData.overview.budgetRule.savings}
                suffix="% min"
                valueStyle={{ color: "#45b7d1", fontSize: "18px" }}
              />
              <Text type="secondary" style={{ fontSize: "11px" }}>
                investissements, urgence
              </Text>
            </Col>
          </Row>
        </Card>
      </Col>

      <Col xs={24} md={12}>
        <Card title="üí∞ Salaires Moyens Paris" size="small">
          <List size="small" split={false}>
            <List.Item>
              <Text strong>Cadres:</Text>{" "}
              <Text style={{ color: "#78dbff" }}>
                {guideData.salaries.cadres}‚Ç¨ nets/mois
              </Text>
            </List.Item>
            <List.Item>
              <Text strong>Interm√©diaires:</Text>{" "}
              <Text style={{ color: "#78dbff" }}>
                {guideData.salaries.intermediaires}‚Ç¨ nets/mois
              </Text>
            </List.Item>
            <List.Item>
              <Text strong>Employ√©s:</Text>{" "}
              <Text style={{ color: "#78dbff" }}>
                {guideData.salaries.employes}‚Ç¨ nets/mois
              </Text>
            </List.Item>
            <List.Item>
              <Text strong>Moyenne:</Text>{" "}
              <Text style={{ color: "#78dbff", fontWeight: "bold" }}>
                {guideData.salaries.moyenne}‚Ç¨ nets/mois
              </Text>
            </List.Item>
          </List>
        </Card>
      </Col>
    </Row>
  );

  const renderHousingGuide = () => (
    <Row gutter={[16, 16]}>
      <Col xs={24} md={12}>
        <Card title="üè† Arrondissements Abordables" size="small">
          <List size="small">
            {guideData.housing.affordableArrondissements.map((area, index) => (
              <List.Item key={index}>
                <List.Item.Meta
                  title={
                    <Text style={{ color: "#78dbff" }}>{area.district}</Text>
                  }
                  description={
                    <>
                      <Tag color="green">{area.price}</Tag>
                      <Text type="secondary">{area.highlight}</Text>
                    </>
                  }
                />
              </List.Item>
            ))}
          </List>
        </Card>
      </Col>

      <Col xs={24} md={12}>
        <Card title="üöá Alternatives Banlieue" size="small">
          <List size="small">
            {guideData.housing.suburbs.map((suburb, index) => (
              <List.Item key={index}>
                <List.Item.Meta
                  title={
                    <Text style={{ color: "#78dbff" }}>{suburb.name}</Text>
                  }
                  description={
                    <>
                      <Tag color="blue">{suburb.savings}</Tag>
                      <Text type="secondary">{suburb.description}</Text>
                    </>
                  }
                />
              </List.Item>
            ))}
          </List>
        </Card>
      </Col>
    </Row>
  );

  const renderTransportGuide = () => (
    <Card title="üöá Optimisation Transport" size="small">
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Paragraph>
            <Text strong>Pass Navigo toutes zones:</Text>{" "}
            <Text style={{ color: "#78dbff" }}>
              {guideData.transport.navigoAll}‚Ç¨/mois
            </Text>
          </Paragraph>
          <Paragraph>
            <Text strong>Pass Navigo zones 1-3:</Text>{" "}
            <Text style={{ color: "#78dbff" }}>
              {guideData.transport.navigo13}‚Ç¨/mois
            </Text>
          </Paragraph>
          <Alert
            message="Remboursement employeur: 50% minimum"
            type="info"
            showIcon
            size="small"
            style={{ marginBottom: 12 }}
          />
        </Col>
        <Col xs={24} sm={12}>
          <Text strong style={{ color: "#78dbff" }}>
            Alternatives √©conomiques:
          </Text>
          <List size="small">
            {guideData.transport.alternatives.map((alt, index) => (
              <List.Item key={index} style={{ padding: "4px 0" }}>
                <Text>{alt.option}: </Text>
                <Tag color="green">{alt.cost}</Tag>
                <Text type="secondary">{alt.benefit}</Text>
              </List.Item>
            ))}
          </List>
        </Col>
      </Row>
    </Card>
  );

  const renderFoodGuide = () => (
    <Card title="üõí Budget Alimentation Optimis√©" size="small">
      <Row gutter={[16, 16]}>
        <Col xs={24} sm={12}>
          <Title level={5} style={{ color: "#78dbff", margin: "8px 0" }}>
            Budgets par profil:
          </Title>
          <List size="small">
            <List.Item>
              <Text>Personne seule: </Text>
              <Tag color="orange">{guideData.food.budgets.single.normal}‚Ç¨</Tag>
              <Text> ‚Üí </Text>
              <Tag color="green">
                {guideData.food.budgets.single.optimized}‚Ç¨
              </Tag>
            </List.Item>
            <List.Item>
              <Text>Couple: </Text>
              <Tag color="orange">{guideData.food.budgets.couple.normal}‚Ç¨</Tag>
              <Text> ‚Üí </Text>
              <Tag color="green">
                {guideData.food.budgets.couple.optimized}‚Ç¨
              </Tag>
            </List.Item>
            <List.Item>
              <Text>Famille de 4: </Text>
              <Tag color="orange">{guideData.food.budgets.family4.normal}‚Ç¨</Tag>
              <Text> ‚Üí </Text>
              <Tag color="green">
                {guideData.food.budgets.family4.optimized}‚Ç¨
              </Tag>
            </List.Item>
          </List>
        </Col>
        <Col xs={24} sm={12}>
          <Title level={5} style={{ color: "#78dbff", margin: "8px 0" }}>
            Strat√©gies d&apos;√©conomie:
          </Title>
          <List size="small">
            {guideData.food.strategies.map((strategy, index) => (
              <List.Item key={index} style={{ padding: "2px 0" }}>
                <CheckCircleOutlined
                  style={{ color: "#52c41a", marginRight: 4 }}
                />
                <Text style={{ fontSize: "12px" }}>{strategy}</Text>
              </List.Item>
            ))}
          </List>
        </Col>
      </Row>
    </Card>
  );

  const renderSavingsGuide = () => (
    <Row gutter={[16, 16]}>
      <Col xs={24} md={12}>
        <Card title="üíé Produits d'√âpargne Recommand√©s" size="small">
          <List size="small">
            {guideData.savings.products.map((product, index) => (
              <List.Item key={index}>
                <List.Item.Meta
                  title={
                    <span>
                      <Text style={{ color: "#78dbff" }}>{product.name}</Text>
                      <Tag color="blue" style={{ marginLeft: 8 }}>
                        {product.rate}
                      </Tag>
                    </span>
                  }
                  description={<Text type="secondary">{product.type}</Text>}
                />
              </List.Item>
            ))}
          </List>
        </Card>
      </Col>

      <Col xs={24} md={12}>
        <Card title="üéØ Objectifs par Profil" size="small">
          <Row gutter={8}>
            <Col span={8}>
              <Statistic
                title="D√©butant"
                value={`${guideData.savings.targets.beginner.min}-${guideData.savings.targets.beginner.max}`}
                suffix="%"
                valueStyle={{ color: "#ffa726", fontSize: "16px" }}
              />
            </Col>
            <Col span={8}>
              <Statistic
                title="Exp√©riment√©"
                value={`${guideData.savings.targets.experienced.min}-${guideData.savings.targets.experienced.max}`}
                suffix="%"
                valueStyle={{ color: "#66bb6a", fontSize: "16px" }}
              />
            </Col>
            <Col span={8}>
              <Statistic
                title="Investisseur"
                value={`${guideData.savings.targets.investor.min}-${guideData.savings.targets.investor.max}`}
                suffix="%"
                valueStyle={{ color: "#42a5f5", fontSize: "16px" }}
              />
            </Col>
          </Row>
          <Divider style={{ margin: "12px 0" }} />
          <Alert
            message="√âpargne automatique recommand√©e d√®s r√©ception du salaire"
            type="success"
            showIcon
            size="small"
          />
        </Card>
      </Col>
    </Row>
  );

  const renderWarnings = () => (
    <Card title="‚ö†Ô∏è Erreurs √† √âviter" size="small">
      <List size="small">
        {guideData.warnings.map((warning, index) => (
          <List.Item key={index} style={{ padding: "4px 0" }}>
            <WarningOutlined style={{ color: "#ff7875", marginRight: 8 }} />
            <Text style={{ fontSize: "13px" }}>{warning}</Text>
          </List.Item>
        ))}
      </List>
      <Alert
        message="56% des Fran√ßais vivent au-dessus de leurs moyens"
        description="Importance du suivi budg√©taire r√©gulier"
        type="warning"
        showIcon
        size="small"
        style={{ marginTop: 12 }}
      />
    </Card>
  );

  // Render different sections based on the section prop
  switch (section) {
    case "overview":
      return <div style={{ marginBottom: 24 }}>{renderOverview()}</div>;
    case "housing":
      return renderHousingGuide();
    case "transport":
      return renderTransportGuide();
    case "food":
      return renderFoodGuide();
    case "savings":
      return renderSavingsGuide();
    case "warnings":
      return renderWarnings();
    case "complete":
      return (
        <div>
          <Title
            level={3}
            style={{ color: "#78dbff", textAlign: "center", marginBottom: 24 }}
          >
            üìñ Guide Complet d&apos;√âpargne √† Paris
          </Title>
          {renderOverview()}
          <Divider />
          {renderHousingGuide()}
          <Divider />
          {renderTransportGuide()}
          <Divider />
          {renderFoodGuide()}
          <Divider />
          {renderSavingsGuide()}
          <Divider />
          {renderWarnings()}
        </div>
      );
    default:
      return renderOverview();
  }
};

export default GuideInfo;
